# FieryLedLamp

Прошивка для лампы на основе esp8266 и матрицы светодиодов ws2812b.

Оригинальный проект https://alexgyver.ru/gyverlamp/

Варианты прошивок и конструкции тут https://community.alexgyver.ru/forums/ehlektronika.7/

Обсуждение проекта тут https://community.alexgyver.ru/threads/wifi-lampa-budilnik-obsuzhdenie-proshivki-ot-gunner47.2418/page-205#post-73929

## Возможности

За основу была взята прошивка alvikskor (больше не обновляется) из которой удалил лишнее, типа будильников, проигрывания mp3 и индикатора tm1637.
Еще удалил blynk, telnet, ssdp и mqtt. В итоге осталось управление кнопкой и через браузер. Приложения на телефоне не поддреживаются.
Переделано сохранение настроек (странная логика по разделению настроек в файл и "eeprom").

## Подключение

Внимательно смотрите схему подключения.

В файле `Constants.h` измените `#define LED_PIN (0U)` для `D3` или на `#define LED_PIN (2U)` для `D4`.

Кнопка подключается `#define BTN_PIN (4U)` на `D2`.
Кнопку можно питать 

Да, на Wemos такая нумерация.

## Настройка

При первом запуске лампа создаст свою WiFi сеть с именем LedLamp и паролем 31415926.
После подключения к сети LedLamp наберите в браузере 192.168.4.1 и зайдите на web страницу лампы.
Там можно изменить имя лампы (если их несколько в сети) и настроить подключение к домашней WiFi сети.
После этого нужно перезагрузить лампу и она подключится к домашней сети.

Чтобы узнать IP адрес лампы надо 5 раз коснуться кнопки.

Все настройки прошивки находятся на вкладке `Constants.h` и в файле `data/config.json`.
Если хотите, чтобы лампа сразу подключилась к домашней WiFi сети, введите в файле data/cofig.json в поля "ssid" и "password" имя и пароль WiFi сети.
Поле "ESP_mode": измените с 0 на 1. Сохраните файл и сделайте upload файловой системы.
